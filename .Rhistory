print(count(df, month))
count(df, month())
count(df, month)
test <- count(df, month)
View(test)
print(count(df, month))
print(test)
test <- count(df, month)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(openxlsx)
library(ggplot2)
library(lubridate)
df %>%
group_by(year) %>%
count(month) %>%
ggplot(aes(x = factor(month), y = n, color = factor(year))) +
geom_bar(
aes(fill = factor(year)),
stat = 'identity',
position = position_dodge()
) +
labs(
x = Monat,
y = Anzahl
)
df %>%
group_by(year) %>%
count(month) %>%
ggplot(aes(x = factor(month), y = n, color = factor(year))) +
geom_bar(
aes(fill = factor(year)),
stat = 'identity',
position = position_dodge()
) +
labs(
x = "Monat",
y = "Anzahl"
)
df %>%
group_by(year) %>%
count(month) %>%
ggplot(aes(x = factor(month), y = n, color = factor(year))) +
geom_bar(
aes(fill = factor(year)),
stat = 'identity',
position = position_dodge()
) +
labs(
x = "Monat",
y = "Anzahl",
color = "Jahr"
)
df %>%
group_by(year) %>%
count(month) %>%
ggplot(aes(x = factor(month), y = n, color = factor(year))) +
geom_bar(
aes(fill = factor(year)),
stat = 'identity',
position = position_dodge()
) +
labs(
x = "Monat",
y = "Anzahl",
color = "Jahr",
fill = "Jahr"
)
library(tidyverse)
library(openxlsx)
## Extracting from lpm-file
# dir_path <- choose.dir(
# 	"H:/Projekte/Python/METER",
# 	#"T:/Leuchten",
# 	caption = "Ordner mit *.lpm Dateien auswählen."
# )
dir_path <- "H:/Projekte/Python/METER"
files_path <- list.files(
path = dir_path,
pattern = ".lpm$",
full.names = TRUE,
recursive = TRUE
)
files_path
## Extracting from lpm-file
# dir_path <- choose.dir(
# 	"H:/Projekte/Python/METER",
# 	#"T:/Leuchten",
# 	caption = "Ordner mit *.lpm Dateien auswählen."
# )
dir_path <- "H:/Projekte/Python/METER"
files_path <- list.files(
path = dir_path,
pattern = ".txt$",
full.names = TRUE,
recursive = TRUE
)
files_path
for (file in files_path) {
first_line <- readLines(file, n = 1)
print(first_line)
}
## Extracting from lpm-file
# dir_path <- choose.dir(
# 	"H:/Projekte/Python/METER",
# 	#"T:/Leuchten",
# 	caption = "Ordner mit *.lpm Dateien auswählen."
# )
dir_path <- "H:/Projekte/Python/METER"
files_path <- list.files(
path = dir_path,
pattern = ".txt$",
full.names = TRUE,
recursive = TRUE
)
for (file in files_path) {
first_line <- readLines(file, n = 1)
#if (first_line == "               Current Harmonic Test Report")
print(first_line)
}
## Extracting from lpm-file
# dir_path <- choose.dir(
# 	"H:/Projekte/Python/METER",
# 	#"T:/Leuchten",
# 	caption = "Ordner mit *.lpm Dateien auswählen."
# )
dir_path <- "H:/Projekte/Python/METER"
files_path <- list.files(
path = dir_path,
pattern = ".txt$",
full.names = TRUE,
recursive = TRUE
)
for (file in files_path) {
first_line <- readLines(file, n = 1)
#if (first_line == "               Current Harmonic Test Report")
print(first_line)
}
for (file in files_path) {
first_line <- readLines(file, n = 1)
if (first_line == "               Current Harmonic Test Report") {
print(first_line)
}
}
## Extracting from lpm-file
# dir_path <- choose.dir(
# 	"H:/Projekte/Python/METER",
# 	#"T:/Leuchten",
# 	caption = "Ordner mit *.lpm Dateien auswählen."
# )
dir_path <- "H:/Projekte/Python/METER"
files_path <- list.files(
path = dir_path,
pattern = ".txt$",
full.names = TRUE,
recursive = TRUE
)
for (file in files_path) {
first_line <- readLines(file, n = 1)
if (first_line == "               Current Harmonic Test Report") {
print(first_line)
}
}
readr::read_file(file)
library(tidyverse)
library(openxlsx)
## Extracting from lpm-file
# dir_path <- choose.dir(
# 	"H:/Projekte/Python/METER",
# 	#"T:/Leuchten",
# 	caption = "Ordner mit *.lpm Dateien auswählen."
# )
dir_path <- "H:/Projekte/Python/METER"
files_path <- list.files(
path = dir_path,
pattern = ".txt$",
full.names = TRUE,
recursive = TRUE
)
for (file in files_path) {
first_line <- readLines(file, n = 1)
if (first_line == "               Current Harmonic Test Report") {
print(first_line)
}
}
readr::read_file(file)
test <- readr::read_file(file)
read.table(file)
read.table(file)
read.table(file2)
read.table2(file)
readr::read.table2(file)
readr::read_table2(file)
readr::read_table(file)
test <- readr::read_table(file)
View(test)
?readr::read_table
readLines(file)
?readLines(file)
?readline
test <- readLines(file)
test <- readLines(file, n = c(12:14))
test
?readLines
test <- readLines(file, n = 4, skip = 2)
test
test <- readLines(file, n = 4, skip = 11)
readLines(file, n = 4, skip = 11)
readLines(file, n = 4, skip = 11)
readLines(file, n = 4, skip = 13)
install.packages(reader)
install.packages("reader")
reader::n.readLines(file, n = 4, skip = 11)
test <- reader::n.readLines(file, n = 4, skip = 11)
reader::n.readLines(file, n = 4, skip = 10)
reader::n.readLines(file, n = 10, skip = 10)
text_chr <- reader::n.readLines(file, n = 10, skip = 10)
test_results <- reader::n.readLines(file, n = 10, skip = 10)
readr::read_table(text_chr)
readr::read_table2(text_chr)
read.table(text_chr)
readr::read_table(text_chr)
?readr::read_table(text_chr)
?readr::read_table(text_chr, col_names = FALSE, skip = 2)
readr::read_table(text_chr, col_names = FALSE, skip = 2)
readr::read_table(text_chr, col_names = FALSE, skip = 2, n_max = 2)
readr::read_table(text_chr, col_names = FALSE, skip = 12, n_max = 8)
readr::read_table(file, col_names = FALSE, skip = 12, n_max = 8)
readr::read_table(file, col_names = FALSE, skip = 13, n_max = 8)
readr::read_table2(file, col_names = FALSE, skip = 13, n_max = 8)
?rename
readr::read_table2(file, col_names = FALSE, skip = 13, n_max = 8) %>%
gsub("\\.", "", .) %>%
gsub(",", ".", .) %>%
pivot_wider(names_from = c(X1), values_from = X2)
readr::read_table2(file, col_names = FALSE, skip = 13, n_max = 8) %>%
gsub("\\.", "", .) %>%
gsub(",", ".", .)
readr::read_table2(file, col_names = FALSE, skip = 13, n_max = 8) %>%
gsub("\\.", "", .) %>%
gsub(",", ".", .) %>%
mutate(X2 = as.numeric(X2)) %>%
pivot_wider(names_from = c(X1), values_from = X2)
readr::read_table2(file, col_names = FALSE, skip = 13, n_max = 8) %>%
gsub("\\.", "", .) %>%
gsub(",", ".", .)
test <- readr::read_table2(file, col_names = FALSE, skip = 13, n_max = 8) %>%
gsub("\\.", "", .) %>%
gsub(",", ".", .)
data.frame(test)
test$
test
test
str(test)
read_table(test_results)
test_results <- reader::n.readLines(file, n = 8, skip = 12)
read_table(test_results)
read_table(test_results, col_names = FALSE)
tt <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE)
tt
readr::type_convert(tt$X2)
readr::type_convert(tt)
scan(tt$X2, dec = ",", sep = ".")
scan(text = tt$X2, dec = ",", sep = ".")
x <- scan(text = tt$X2, dec = ",", sep = ".")
x
test_results <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = scan(text = X2, dec = ",", sep = "."))
View(test_results)
str(test_results)
test_results <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = as.numeric(scan(text = X2, dec = ",", sep = ".")))
View(test_results)
test_results <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = as.numeric(scan(text = X2, dec = ",", sep = "."))) %>%
pivot_wider(names_from = c(X1), values_from = X2)
View(test_results)
View(test_results)
measurements <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = as.numeric(scan(text = X2, dec = ",", sep = "."))) %>%
pivot_wider(names_from = X1, values_from = X2)
test_results <- reader::n.readLines(file, n = 2, skip = 10)
?read_table
?read_delim()
test_results <- reader::n.readLines(file, n = 2, skip = 10) %>%
read_delim(":", col_names = FALSE)
?read_table
test_results <- reader::n.readLines(file, n = 2, skip = 10) %>%
read_table(col_names = FALSE)
test_results <- reader::n.readLines(file, n = 2, skip = 10) %>%
read_table(col_names = FALSE)
reader::n.readLines(file, n = 2, skip = 10)
reader::n.readLines(file, n = 3, skip = 10)
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read_table(col_names = FALSE)
View(test_results)
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read_table2(col_names = FALSE)
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read_table(col_names = FALSE)
View(test_results)
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read.table(col_names = FALSE)
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read.table(sep = ":")
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read_table(col_names = FALSE) %>%
mutate(X1 = X1 + X2 + X3)
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read_table(col_names = FALSE) %>%
mutate(X1 = cbind(X1, X2 ))
View(test_results)
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read_table(col_names = FALSE) %>%
mutate(X1 = paste(X1, X2, X3))
View(test_results)
test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read_table(col_names = FALSE) %>%
mutate(X1 = paste(X1, X2, X3)) %>%
select(X1, X4) %>%
pivot_wider(names_from = X1, values_from = X4)
View(test_results)
reader::n.readLines(file, n = 4, skip = 5)
reader::n.readLines(file, n = 4, skip = 5) %>%
read_table(col_names = FALSE)
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
read.table(text = ., header = F, sep = ":")
View(setting)
View(setting)
reader::n.readLines(file, n = 4, skip = 5) %>%
read.table(text = ., header = F, sep = ":")
?gsub
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":")
View(setting)
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":")
View(reading_test_results)
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":") %>%
pivot_wider(names_from = X1, values_from = X4)
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":") %>%
pivot_wider(names_from = X1, values_from = X2)
View(reading_test_results)
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":") %>%
pivot_wider(names_from = V1, values_from = V2)
View(reading_test_results)
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":")
View(setting)
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":") %>%
pivot_wider(names_from = V1, values_from = V2)
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":") %>%
pivot_wider(names_from = V1, values_from = V2)
View(setting)
datetime <- reader::n.readLines(file, n = 1, skip = 3)
datetime <- reader::n.readLines(file, n = 1, skip = 2)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = ":")
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read_table(col_names = FALSE)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read_table2(col_names = FALSE)
reader::n.readLines(file, n = 1, skip = 2)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t")
reader::n.readLines(file, n = 4, skip = 5)
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
#gsub("\t", "", .) %>%
read.table(text = ., header = F, sep = "\t") %>%
pivot_wider(names_from = V1, values_from = V2)
View(setting)
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read.table(text = ., header = F, sep = "\t") %>%
pivot_wider(names_from = V1, values_from = V2)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t") %>%
pivot_wider(names_from = V1, values_from = V2)
?bind_cols
df <- bind_cols(datetime, setting, reading_test_results, reading_measurments)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t") %>%
pivot_wider(names_from = V1, values_from = V2)
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
read.table(text = ., header = F, sep = "\t") %>%
pivot_wider(names_from = V1, values_from = V2)
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read.table(text = ., header = F, sep = "\t") %>%
pivot_wider(names_from = V1, values_from = V2)
reading_measurments <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = as.numeric(scan(text = X2, dec = ",", sep = "."))) %>%
pivot_wider(names_from = X1, values_from = X2)
df <- bind_cols(datetime, setting, reading_test_results, reading_measurments)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t") %>%
pivot_wider(names_from = V1, values_from = V2) %>%
rename(datetime = `Date/Time`)
?read.table
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2) %>%
rename(datetime = `Date/Time:             `)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2) %>%
rename(datetime = `Date/Time`)
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2)
datetime
datetime$`Date/Time:`
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2) %>%
rename(datetime = `Date/Time:`)
## Extracting from lpm-file
# dir_path <- choose.dir(
# 	"H:/Projekte/Python/METER",
# 	#"T:/Leuchten",
# 	caption = "Ordner mit *.lpm Dateien auswählen."
# )
dir_path <- "H:/Projekte/Python/METER"
files_path <- list.files(
path = dir_path,
pattern = ".txt$",
full.names = TRUE,
recursive = TRUE
)
df_emc <- data.frame(datetime = character())
for (file in files_path) {
first_line <- readLines(file, n = 1)
if (first_line == "               Current Harmonic Test Report") {
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2) %>%
rename(datetime = `Date/Time:`)
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2)
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2)
reading_measurments <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = as.numeric(scan(text = X2, dec = ",", sep = "."))) %>%
pivot_wider(names_from = X1, values_from = X2)
df_emc <- bind_cols(
datetime,
setting,
reading_test_results,
reading_measurments
) %>%
bind_rows(df_emc, .)
}
}
df_emc
datetime <- reader::n.readLines(file, n = 1, skip = 2) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2) %>%
rename(datetime = `Date/Time:`)
setting <- reader::n.readLines(file, n = 4, skip = 5) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2)
reading_test_results <- reader::n.readLines(file, n = 3, skip = 10) %>%
read.table(text = ., header = F, sep = "\t", strip.white = T) %>%
pivot_wider(names_from = V1, values_from = V2)
reading_measurments <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = as.numeric(scan(text = X2, dec = ",", sep = "."))) %>%
pivot_wider(names_from = X1, values_from = X2)
reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE)
reading_measurments <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = as.numeric(scan(text = X2, dec = ",", sep = "."))) %>%
pivot_wider(names_from = X1, values_from = X2)
?scan
reading_measurments <- reader::n.readLines(file, n = 8, skip = 12) %>%
read_table(col_names = FALSE) %>%
mutate(X2 = as.numeric(scan(
text = X2,
dec = ",",
sep = ".",
quiet = T
))) %>%
pivot_wider(names_from = X1, values_from = X2)
files_path
